[phases.setup]
cmds = [
    "apt-get update",
    "apt-get install -y --no-install-recommends gcc g++ libffi-dev libssl-dev"
]

[phases.build]
nixPkgs = [
    "python311",
    "python311Packages.pip",
    "gcc",
    "libffi",
    "openssl",
    "zlib"
]

[phases.install]
cmds = [
    "pip install --upgrade pip",
    "pip install --no-cache-dir -r requirements.txt"
]

[start]
cmd = "python bot.py"
priority = 1